---
# This adds the prerequisites needed for Selenium testing.
# Assumes that we will be testing against a Firefox browser only.
# (Chrome and other browsers could be added if required.)
#
# Note that the snap version of Firefox in the Canonical Ubuntu
# repositories doesn't work when the $HOME is not within "/home".
# The workaround is to install the PPA version managed by the
# Mozilla team.  See https://askubuntu.com/questions/1399383.
#
# This should work for all current (non-EOL) Ubuntu releases, though the
# launchpad page (https://launchpad.net/~mozillateam/+archive/ubuntu/ppa)
# says that these builds are unsupported.
#
# NOTE: Firefox is now set as a dependency role of the Jenkins role, so
# we now install it via that.
#

- name: Install selenium prerequisites
  apt:
    pkg:
    - xvfb
    - libxi6
    - libgconf-2-4
    state: present
